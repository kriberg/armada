<div class="row">
    <div class="col-md-12">
        <ol class="breadcrumb" ng-if="location">
            <li>
                <a ui-sref="assets.locations({})">Locations</a>
            </li>
            <li>
                <a ui-sref="assets.locations.list({locationIDs: location.regionID})">{{location.regionName}}</a>
            </li>
            <li>
                <a ui-sref="assets.locations.list({locationIDs: location.solarSystemID})">{{location.solarSystemName}}</a>
            </li>
            <li class="active"> <strong>{{location.name}}:</strong>
                {{location.value|shortify}} ISK, {{location.volume|shortify}} m<sup>3</sup>
            </li>
        </ol>
    </div>
    <div class="col-md-12" ng-if="loadingContainers">
        <div class="text-center">
            <div class="spinner"></div>
            <h2 class="text-muted">Loading station contents</h2>
        </div>
    </div>
    <div ng-if="!loadingContainers">
        <div class="col-md-2">
            <ul class="list list-unstyled">
                <li class="inventory">
                    <a href
                       ng-class="{'active': selectedContainer == -1}"
                       ng-if="!loadingContainers"
                       ng-click="activateContainer(-1, -1)">
                        Hangar
                    </a>
                    <small>{{location.value|shortify}} ISK, {{location.volume|shortify}} m<sup>3</sup></small>
                </li>
                <li class="inventory container"
                    ng-repeat="container in topLevelContainers|orderBy:assetOrdering:orderDirection">
                    <armada-inventory-container container="container"></armada-inventory-container>
                </li>
            </ul>
        </div>
        <div class="col-md-10">
            <div class="row">
                <div ng-if="loadingAssets" class="text-center spinner-container">
                    <div class="spinner spinner-lg"></div>
                    <h2 class="text-muted">Loading assets</h2>
                </div>
                <div ng-if="!loadingAssets">
                    <div class="col-md-12 small-spacing-bottom">
                        <div class="row">
                            <div class="col-md-offset-6 col-md-4 search-pf-input-group">
                                <input type="search" class="form-control" placeholder="Filter" ng-model="filterText">
                            </div>
                            <div class="btn-group col-md-2" aria-label="...">
                                <label class="btn btn-sm btn-default" ng-model="inventoryDisplay" ng-change="saveSetting('inventoryDisplay', inventoryDisplay)" btn-radio="'icons'" uncheckable>
                                    <img src="../../../../img/ui/icons.png" alt="">
                                </label>
                                <label class="btn btn-sm btn-default" ng-model="inventoryDisplay" ng-change="saveSetting('inventoryDisplay', inventoryDisplay)" btn-radio="'table'" uncheckable>
                                    <img src="../../../../img/ui/list.png" alt="">
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="row">
                            <div ng-if="inventoryDisplay == 'icons'">
                                <div class="col-md-2 text-center" ng-repeat-start="asset in currentContainer|filter:{name: filterText}|orderBy:assetOrdering:orderDirection">
                                    <div class="inventory-icon">
                                        <img ng-src="{{asset.typeID|eveImage64}}" class="rounded">
                                        <div ng-if="!asset.singleton" class="text-right">
                                            {{asset.quantity|quantify}}
                                        </div>
                                    </div>
                                    {{asset.name}}<br>
                                    <span ng-style="{'color': colorize(asset.owner)}">{{reverseIdentity(asset.owner)}}</span>
                                </div>
                                <div ng-repeat-end ng-if="($index+1) % 6 == 0" class="clearfix"></div>
                            </div>
                            <div ng-if="inventoryDisplay == 'table'">
                                <div class="col-md-12">
                                    <table class="table table-striped table-bordered table-condensed">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Quantity</th>
                                                <th>Volume</th>
                                                <th>Value</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="asset in currentContainer|filter:{name: filterText}|orderBy:assetOrdering:orderDirection">
                                                <td>{{asset.name}}<span class="pull-right" ng-style="{'color': colorize(asset.owner)}">{{reverseIdentity(asset.owner)}}</span></td>
                                                <td class="text-right number">{{asset.quantity|humanify}}</td>
                                                <td class="text-right number">{{asset.volume|humanify}}</td>
                                                <td class="text-right number">{{asset.value|iskify}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div ng-if="currentContainer.length == 0 && !loadingAssets" class="text-center">
                                <h2 class="text-muted">Empty</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
